# Signatures

## Description

Signatures are special instructions that modify the behavior of a command. They provide meta logic for control, debugging, and reliability.

---

## Summary Table

| Signature | Syntax Example        | Effect                                | Notes                                    |
| --------- | --------------------- | ------------------------------------- | ---------------------------------------- |
| `on`      | `on linux`            | Run only on specified OS              | Must be last signature                   |
| `trace`   | `trace`               | Print command before execution        | Can combine with others                  |
| `elapsed` | `elapsed`             | Print execution time                  | Can combine with others                  |
| `timeout` | `timeout '5' seconds` | Limit execution time                  | Supported units: seconds, minutes, hours |
| `silent`  | `silent`              | Suppress output except errors/results | Can combine with others                  |

> [!NOTE]
>
> **Signature Order:** `on <keyword_os>` must always be the last signature in a command. Other signatures can be combined in any order.

---

## Overview

Signatures allow you to control command execution, output, and error handling in Feather scripts. They are appended to commands and can be combined for advanced behavior.

---

## Syntax & Usage

### Syntax

`<command> [signature ...]`

### Examples

#### `on`

```sky
~ Script.sky
~~~~~~~~~~~~~
say 'I am on linux.' on linux.
say 'I am on mac.' on mac.
say 'I am on windows.' on windows.
success 'This script is running on a mac.'.
```

```bash
# Output
> [INFO] I am on mac.
> [SUCC] This script is running on a mac.
```

---

#### `trace`

```sky
~ Script.sky
~~~~~~~~~~~~~
say 'I am on linux.' trace on linux.
say 'I am on mac.' trace on mac.
say 'I am on windows.' trace on windows.
success 'This script is running on a mac.'.
```

```bash
# Output
> [TRCE] Say 'I am on linux.' trace on linux.
> [TRCE] Say 'I am on mac.' trace on mac.
> [INFO] I am on mac.
> [TRCE] Say 'I am on windows.' trace on windows.
> [SUCC] This script is running on a mac.
```

---

#### `elapsed`

```sky
~ Script.sky
~~~~~~~~~~~~~
cabinet copy file '/tmp/a.txt' to '/tmp/b.txt' trace elapsed.
success 'File copied.'
```

```bash
# Output
> [TRCE][INFO] cabinet copy file '/tmp/a.txt' to '/tmp/b.txt' trace elapsed.
> [ELAP] Elapsed: 0.023s.
> [SUCC] File copied.
```

---

#### `timeout`

Timeout provides a way to set a maximum processing time for a specific command.

```sky
~ Script.sky
~~~~~~~~~~~~~

cabinet read file '/tmp/large_file.txt' timeout '5' seconds.
success 'File read.'
```

```bash
# Output

> [INFO] cabinet read file '/tmp/large_file.txt' timeout '5' seconds.
> [ERRO] Command timed out after 5 seconds.
```

---

#### `silent`

Silent provide a way to reduce the noise of the output by hiding the output when the command is successful.

```sky
~ Script.sky
~~~~~~~~~~~~~

cabinet delete file '/tmp/old.log' silent.
success 'Cleanup done.'
```

> `#107742FF` **_OUTPUT:_**
>
> [SUCC] Cleanup done.

---

## Options & Modifiers

- **OS keywords for `on`:** `mac`, `windows`, `linux`
- **Time units for `timeout`:** `seconds`, `minutes`, `hours`

---

## Edge Cases & Interactions

- If `silent` is used, only errors and explicit results are printed.
- If `timeout` and `silent` are combined, timeout errors will still be shown.
- `trace` prints the command before execution, including all signatures and arguments.

---

## Best Practices

- Use `elapsed` for profiling and performance checks.
- Use `timeout` to prevent long-running or stuck operations.
- Use `silent` for background or non-critical commands.
- Combine signatures as needed for robust automation.

---

## Related Pages

- [Commands **v0.0.1**](../commands/0.0.1.md)
- [Modifiers **v0.0.1**](../modifiers/0.0.1.md)

---

## Version

v0.0.1
